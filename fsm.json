{"initialized":true,"completed":false,"_curState":6,"lastWriteTime":"2019-12-03T12:18:47.665","states":[{"name":"open","description":"系统初始化","script":[],"start":"2019-12-03T12:18:27.683","end":"2019-12-03T12:18:51.455"},{"name":"info","description":"修改信息","script":[{"time":300000,"func":"sendEmail","parameter":{"title":"系统开启","paragraph":["毕设选题系统已经开启，请管理员尽快设定系统各阶段运行时间，通知师生修改密码、绑定邮箱，同时更新所需个人信息。"]}},{"time":-1800000,"func":"sendEmail","parameter":{"sql":"SELECT email FROM teacher WHERE tele='' AND email!=''","title":"未完善资料","paragraph":["您未填写您的详细资料，请前往系统填写。离更改资料功能关闭还有30分钟，关闭后将不可更改。因资料不完善而导致选题过程中出现问题，请自行承担责任。"]}},{"time":-600000,"func":"sendInfoToAdmin","parameter":{"sql":"SELECT stuNum student FROM student WHERE email IS NULL;SELECT teaNum FROM teacher WHERE email IS NULL;SELECT teaNuM FROM dean WHERE email IS NULL","title":"未设置邮箱人员名单"}}],"start":"2019-12-03T12:18:51.455","end":"2019-12-03T12:18:53.848"},{"name":"submit","description":"提交课题","script":[{"time":300000,"func":"sendEmail","parameter":{"identity":["teacher","admin"],"title":"提交课题","paragraph":["请各位老师注意，可以开始提交课题了，每人提交课题上限为3个。"]}},{"time":-1800000,"func":"sendEmail","parameter":{"identity":["teacher","admin"],"title":"提交课题阶段即将结束","paragraph":["请各位老师注意，提交课题阶段将在30分钟后结束，未提交课题的老师请尽快提交。"]}},{"time":-600000,"func":"sendInfoToAdmin","parameter":{"sql":"SELECT teaNum FROM teacher WHERE bysj IS NULL","title":"未提交课题教师名单","captionArray":["教师"]}}],"start":"2019-12-03T12:18:53.848","end":"2019-12-03T12:18:56.731"},{"name":"review","description":"初次审核","script":[{"time":300000,"func":"sendEmail","parameter":{"identity":["dean","admin"],"title":"初次审核","paragraph":["请管理员和各位系主任注意，可以开始第一次课题审核了。"]}},{"time":-1800000,"func":"sendEmail","parameter":{"identity":["dean","admin"],"title":"初次审核阶段即将结束","paragraph":["请管理员和各位系主任注意，初次审核阶段将在30分钟后结束，未审核课题的系主任请尽快审核完成。"]}},{"time":-600000,"func":"sendInfoToAdmin","parameter":{"sql":"SELECT name,teaNum FROM dean d WHERE EXISTS (SELECT 1 FROM bysj b WHERE b.state=0 AND b.`group`=d.`group`","title":"初次审核为完成系主任名单","captionArray":["系主任"]}}],"start":"2019-12-03T12:18:56.731","end":"2019-12-03T12:18:59.332"},{"name":"modify","description":"课题修改","script":[{"time":300000,"func":"sendEmail","parameter":{"identity":["teacher","admin"],"title":"修改课题","paragraph":["请管理员和各位老师注意，第一次课题审核完毕，老师们可以查看课题审核情况。被打回的课题可以修改之后再次提交，若不修改或第二次审核仍被打回，则该课题将被系统自动删除。"]}},{"time":-1800000,"func":"sendEmail","parameter":{"identity":["teacher","admin"],"title":"修改课题阶段即将结束","paragraph":["请管理员和各位老师注意，修改课题阶段将在30分钟后结束，未修改课题的老师请尽快修改完成。"]}}],"start":"2019-12-03T12:18:59.332","end":"2019-12-03T12:19:03.123"},{"name":"release","description":"二次审核","script":[{"time":300000,"func":"sendEmail","parameter":{"identity":["dean","admin"],"title":"二次审核","paragraph":["请管理员和各位系主任注意，可以开始第二次审核了。"]}},{"time":-1800000,"func":"sendEmail","parameter":{"identity":["dean","admin"],"title":"二次审核即将结束","paragraph":["请管理员和各位系主任注意，二次审核阶段将在30分钟后结束，未审核课题的系主任请尽快审核完成。"]}},{"time":-600000,"func":"sendInfoToAdmin","parameter":{"sql":"SELECT name,teaNum FROM dean d WHERE EXISTS (SELECT 1 FROM bysj b WHERE b.state=0 AND b.`group`=d.`group`","title":"二次审核未完成系主任名单","captionArray":["系主任"]}}],"start":"2019-12-03T12:19:03.123","end":"2019-12-03T12:19:06.038"},{"name":"choose","description":"学生选题","script":[{"time":300000,"func":"sendEmail","parameter":{"identity":["student","admin"],"title":"预选开始","paragraph":["请各位同学注意，可以开始选题了！本次为预选阶段，若本次没有进行选择，则可在补选改选阶段再进行选择。"]}},{"time":-1800000,"func":"sendEmail","parameter":{"identity":["student","admin"],"title":"预选即将结束","paragraph":["请各位同学注意，预选阶段将在30分钟后结束，未选题的同学请尽快选题。"]}},{"time":-600000,"func":"sendInfoToAdmin","parameter":{"sql":"SELECT name,stuNum FROM student WHERE bysj IS NULL","title":"未预选学生名单","captionArray":["学生"]}}],"start":"2019-12-03T12:19:06.038","end":"2019-12-04T02:18:00.000"},{"name":"draw","description":"系统抽签","script":[{"time":60000,"func":"sendEmail","parameter":{"title":"抽签即将开始","paragraph":["请管理员注意，抽签将在30分钟后开始。"]}},{"time":300000,"func":"drawAll","parameter":{"succeed":{"title":"抽签成功","paragraph":["请管理员注意，抽签已经完成。"]},"fail":{"title":"抽签失败","paragraph":["请管理员注意，因系统故障，抽签失败，请联系维护人员。"]}}}],"start":"2019-12-04T02:18:00.000","end":"2019-12-04T04:18:00.000"},{"name":"publicity","description":"数据公示","script":[{"time":300000,"func":"sendEmail","parameter":{"identity":["student","admin"],"title":"抽签完成","paragraph":["请同学们注意，抽签已经完成，请登陆系统查看自己的抽签情况，如未抽中，可在补改选阶段进行补选，补改选不抽签，即选即中。"]}},{"time":-1800000,"func":"sendEmail","parameter":{"identity":["student","admin"],"title":"补改选即将开始","paragraph":["请同学们注意，补改选将在30分钟后开始。补改选不抽签，即选即中。"]}}],"start":"2019-12-04T04:18:00.000","end":"2019-12-04T06:18:00.000"},{"name":"final","description":"补选改选","script":[{"time":300000,"func":"sendEmail","parameter":{"identity":["student","admin"],"title":"补改选开始","paragraph":["请同学们注意，补改选阶段已经开始，补改选不抽签，即选即中。"]}},{"time":-1800000,"func":"sendEmail","parameter":{"identity":["student","admin"],"title":"补改选即将结束","paragraph":["请同学们注意，补改选将在30分钟后结束。若没有进行选择，将由系统进行调剂。"]}}],"start":"2019-12-04T06:18:00.000","end":"2019-12-04T08:18:00.000"},{"name":"general","description":"选题完成","script":[{"time":300000,"func":"sendEmail","parameter":{"identity":["student","teacher","admin"],"title":"选题结束","paragraph":["各位老师、同学们，毕业设计选题已经结束，师生可在系统上交流有关毕业设计的信息。"]}},{"time":-1800000,"func":"sendEmail","parameter":{"identity":["student","teacher","admin"],"title":"系统即将关闭","paragraph":["请老师同学们注意，系统将在30分钟后关闭，若有未完成的操作，请及时完成。"]}}],"start":"2019-12-04T08:18:00.000","end":"2019-12-04T10:18:00.000"},{"name":"close","description":"系统关闭","script":[{"time":300000,"func":"sendEmail","parameter":{"title":"请管理员关闭系统","paragraph":["毕业设计工作已经结束，请管理员在导出信息后关闭系统。"]}}],"start":"2019-12-04T10:18:00.000","end":null}]}