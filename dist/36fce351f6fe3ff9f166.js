(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{65:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.id>0?s("div",{staticClass:"d-flex flex-column h-100"},[s("div",{staticClass:"px-3 app-container flex-grow-1 app-scroll"},[s("div",{staticClass:"position-relative h-100"},[t.tasks.length?s("table",{staticClass:"table table-hover table-bordered text-center py-3"},[s("thead",{staticClass:"thead-light"},[s("tr",[s("th",[t._v("选择")]),t._v(" "),t._l(t.heads,(function(e,a){return s("th",{key:a,attrs:{scope:"col"}},[t._v(t._s(e.des))])}))],2)]),t._v(" "),s("tbody",t._l(t.tasks,(function(e,a){return s("tr",{key:e.id},[s("td",[s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"checkbox-"+a},domProps:{value:e.id,checked:Array.isArray(t.selected)?t._i(t.selected,e.id)>-1:t.selected},on:{change:function(s){var a=t.selected,i=s.target,c=!!i.checked;if(Array.isArray(a)){var n=e.id,l=t._i(a,n);i.checked?l<0&&(t.selected=a.concat([n])):l>-1&&(t.selected=a.slice(0,l).concat(a.slice(l+1)))}else t.selected=c}}}),t._v(" "),s("label",{staticClass:"custom-control-label",attrs:{for:"checkbox-"+a}})])]),t._v(" "),t._l(t.heads,(function(a,i){return s("td",{key:i},[t._v(t._s(e[a.key]))])}))],2)})),0)]):s("div",{staticClass:"d-flex justify-content-center align-items-center text-muted",staticStyle:{height:"250px"}},[s("h1",[t._v("暂无任务！")])])])]),t._v(" "),s("div",{staticClass:"form-group form-row justify-content-around border-top border-secondary py-3 mb-0"},[s("app-button",{staticClass:"btn btn-primary",attrs:{disabled:t.tasks.length<=0,type:"button"},nativeOn:{click:function(e){return t.select(e)}}},[s("i",{staticClass:"fa fa-check"}),t._v("反选\n    ")]),t._v(" "),s("app-button",{staticClass:"btn btn-warning",attrs:{disabled:t.selected.length<=0,type:"button",warn:"您确定要删除所选任务吗？"},nativeOn:{click:function(e){return t.remove(e)}}},[s("i",{staticClass:"fa fa-trash"}),t._v("删除\n    ")]),t._v(" "),s("app-button",{staticClass:"btn btn-secondary",attrs:{disabled:1!=t.selected.length,type:"button"},nativeOn:{click:function(e){return t.edit(e)}}},[s("i",{staticClass:"fa fa-pencil"}),t._v("修改\n    ")]),t._v(" "),s("app-button",{staticClass:"btn btn-info",attrs:{disabled:1!=t.selected.length,type:"button"},nativeOn:{click:function(e){return t.detail(e)}}},[s("i",{staticClass:"fa fa-info"}),t._v("详情\n    ")]),t._v(" "),s("app-button",{staticClass:"btn btn-primary",attrs:{type:"button"},nativeOn:{click:function(e){return t.add(e)}}},[s("i",{staticClass:"fa fa-plus"}),t._v("新建\n    ")])],1)]):s("div",{staticClass:"d-flex justify-content-center align-items-center text-muted",staticStyle:{height:"250px"}},[s("h1",[t._v("无相关信息！")])])};a._withStripped=!0;var i={data:()=>({heads:[{key:"title",des:"任务标题"},{key:"mode",des:"任务类型"},{key:"deadline",des:"截止时间"},{key:"submitted",des:"已提交人数"}],id:-1,tasks:[],selected:[]}),methods:{async remove(){let t=await this.$axiosPost("/scsx/task-remove",{tid:this.selected});t.status&&(this.tasks=this.tasks.filter(t=>this.selected.indexOf(t.id)<0),this.selected=[]),this.$alertResult(t)},add(){this.$router.push({path:"/scsx/xzrw"})},edit(){this.$router.push({path:"/scsx/xgrw",query:{tid:this.selected[0]}})},detail(){this.$router.push({path:"/scsx/rwxq",query:{tid:this.selected[0]}})},select(){let t=[];for(const e of this.tasks)this.selected.indexOf(e.id)<0&&t.push(e.id);this.selected=t}},async created(){let t=await this.$axiosGet("/scsx/task-manage");t.status&&(this.id=t.id,this.tasks=t.tasks)}},c=s(0),n=Object(c.a)(i,a,[],!1,null,null,null);n.options.__file="modules/scsx/components/task-manage-teacher.vue";e.default=n.exports}}]);