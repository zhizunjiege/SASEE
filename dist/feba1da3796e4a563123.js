(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{70:function(e,t,s){"use strict";s.r(t);var l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container row align-items-center justify-content-center"},[s("form",{staticClass:"col-12 col-sm-9 col-md-8 col-lg-6 col-xl-5 text-center",on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[s("input-text",{attrs:{type:"password",label:"旧密码",placeholder:"1~16位字母、数字或下划线",pattern:"\\w{1,16}",required:""},model:{value:e.fields.oldPW,callback:function(t){e.$set(e.fields,"oldPW",t)},expression:"fields.oldPW"}}),e._v(" "),s("input-text",{attrs:{type:"password",label:"新密码",placeholder:"1~16位字母、数字或下划线",pattern:"\\w{1,16}",required:""},model:{value:e.fields.newPW,callback:function(t){e.$set(e.fields,"newPW",t)},expression:"fields.newPW"}}),e._v(" "),s("input-text",{attrs:{type:"password",label:"重复密码",placeholder:"1~16位字母、数字或下划线",pattern:"\\w{1,16}",required:""},model:{value:e.fields.repeatPW,callback:function(t){e.$set(e.fields,"repeatPW",t)},expression:"fields.repeatPW"}}),e._v(" "),s("div",{staticClass:"form-row justify-content-end align-items-center mb-3"},[s("app-button",{staticClass:"btn btn-primary col-12 col-md-5 mb-3 mb-md-0",attrs:{type:"submit"}},[s("i",{staticClass:"fa fa-paper-plane"}),e._v("修改\n      ")])],1)],1)])};l._withStripped=!0;var a=s(3),n=s.n(a),i={data:()=>({fields:{oldPW:"",newPW:"",repeatPW:""}}),methods:{async submit(){let e=this.fields;if(e.newPW!==e.repeatPW)return void this.$alertWarn("密码不一致！");let t=await this.$axiosPost("/user/set-password",{oldPW:n.a.MD5(e.oldPW),newPW:n.a.MD5(e.newPW)});t.status&&this.$root.$emit("logout","/login"),this.$alertResult(t)}}},r=s(0),o=Object(r.a)(i,l,[],!1,null,null,null);o.options.__file="modules/user/components/set-password.vue";t.default=o.exports}}]);