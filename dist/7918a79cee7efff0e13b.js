(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{60:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return Number(t.t.id)>0?e("div",{staticClass:"app-container app-scroll text-center px-3"},[e("header",{staticClass:"sticky-top bg-main border-bottom border-secondary mb-3"},[e("h3",{staticClass:"pt-3 mb-0"},[t._v(t._s(t.t.title))])]),t._v(" "),e("div",{staticClass:"mb-3"},[e("h5",{staticClass:"text-primary"},[t._v("任务信息")]),t._v(" "),e("table",{staticClass:"table table-fixed table-bordered"},[e("tbody",[e("tr",[e("th",[t._v("任务类型")]),t._v(" "),e("td",[t._v(t._s(t.t.mode))]),t._v(" "),e("th",[t._v("截止时间")]),t._v(" "),e("td",[t._v(t._s(t.t.deadline))])])])])]),t._v(" "),e("div",{staticClass:"mb-3"},[e("h5",{staticClass:"text-primary"},[t._v("任务简介")]),t._v(" "),e("pre",{staticClass:"p-3 border rounded text-left"},[t._v(t._s(t.t.description))])]),t._v(" "),e("div",{staticClass:"mb-3"},[e("h5",{staticClass:"text-primary"},[t._v("未提交学生名单("+t._s(t.unsubmitted.length)+"人)")]),t._v(" "),e("pre",{staticClass:"p-3 border rounded text-left"},[t._v(t._s(t.unsubmitted.join(",")))])]),t._v(" "),e("div",{staticClass:"mb-4"},[e("h5",{staticClass:"text-primary"},[t._v("已提交学生名单("+t._s(t.submitted.length)+"人)")]),t._v(" "),e("table",{staticClass:"table table-fixed table-bordered"},[t._m(0),t._v(" "),e("tbody",[t.submitted.length>0?t._l(t.submitted,(function(s){return e("tr",{key:s.id},[e("td",[t._v(t._s(s.name))]),t._v(" "),e("td",[t._v(t._s(s.schoolNum))]),t._v(" "),e("td",[e("a",{attrs:{href:"/scsx/download-report?task_id="+t.t.id+"&report_id="+s.id+"&filename="+s.filename,download:""}},[t._v(t._s(s.filename))])]),t._v(" "),e("td",[t._v(t._s(s.time))]),t._v(" "),e("td",{staticClass:"editable"},[e("input-select",{staticClass:"mb-0",attrs:{options:["优秀","良好","中等","及格","不及格"],required:""},model:{value:s.score,callback:function(e){t.$set(s,"score",e)},expression:"s.score"}})],1)])})):e("tr",[e("td",[t._v("暂无")]),t._v(" "),e("td",[t._v("暂无")]),t._v(" "),e("td",[t._v("暂无")]),t._v(" "),e("td",[t._v("暂无")]),t._v(" "),e("td",[t._v("暂无")])])],2)])]),t._v(" "),e("div",{staticClass:"mb-5 row justify-content-end"},[e("app-button",{staticClass:"btn btn-primary col-3",attrs:{disabled:t.submitted.length<=0,warn:"您确定提交评分吗？"},nativeOn:{click:function(s){return t.submit(s)}}},[e("i",{staticClass:"fa fa-paper-plane"}),t._v("提交评分\n    ")])],1)]):t._e()};a._withStripped=!0;var i={data:()=>({t:{},submitted:[],unsubmitted:[]}),methods:{async submit(){let t=this.submitted.filter(t=>Boolean(t.score)).map(t=>({id:t.id,score:t.score}));this.$alertResult(await this.$axiosPost("/scsx/task-score",{scores:t}))}},async created(){let{tid:t}=this.$route.query;if(t){let s=await this.$axiosGet("/scsx/task-detail",{tid:t});this.submitted=s.submitted,this.unsubmitted=s.unsubmitted,this.t=(await this.$axiosGet("/scsx/task-info",{tid:t})).t}}},d=e(0),r=Object(d.a)(i,a,[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",{staticClass:"thead-light"},[e("tr",[e("th",[t._v("学生姓名")]),t._v(" "),e("th",[t._v("学生学号")]),t._v(" "),e("th",[t._v("报告文件")]),t._v(" "),e("th",[t._v("提交时间")]),t._v(" "),e("th",[t._v("分数/等第")])])])}],!1,null,null,null);r.options.__file="modules/scsx/components/task-info-teacher.vue";s.default=r.exports}}]);