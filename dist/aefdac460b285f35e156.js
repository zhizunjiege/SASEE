(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{69:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex flex-column h-100"},[s("div",{staticClass:"px-3 app-container flex-grow-1 app-scroll"},[s("div",{staticClass:"position-relative h-100"},[t.classes.length?s("table",{staticClass:"table table-hover table-bordered text-center py-3"},[s("thead",{staticClass:"thead-light"},[s("tr",[s("th",[t._v("选择")]),t._v(" "),t._l(t.heads,(function(e,a){return s("th",{key:a,attrs:{scope:"col"}},[t._v(t._s(e.des))])}))],2)]),t._v(" "),s("tbody",t._l(t.classes,(function(e,a){return s("tr",{key:e.id},[s("td",[s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"checkbox-"+a},domProps:{value:e.id,checked:Array.isArray(t.selected)?t._i(t.selected,e.id)>-1:t.selected},on:{change:function(s){var a=t.selected,c=s.target,i=!!c.checked;if(Array.isArray(a)){var l=e.id,n=t._i(a,l);c.checked?n<0&&(t.selected=a.concat([l])):n>-1&&(t.selected=a.slice(0,n).concat(a.slice(n+1)))}else t.selected=i}}}),t._v(" "),s("label",{staticClass:"custom-control-label",attrs:{for:"checkbox-"+a}})])]),t._v(" "),t._l(t.heads,(function(a,c){return s("td",{key:c},[t._v(t._s(e[a.key]))])}))],2)})),0)]):s("div",{staticClass:"d-flex justify-content-center align-items-center text-muted",staticStyle:{height:"250px"}},[s("h1",[t._v("暂无小组信息！")])])])]),t._v(" "),s("div",{staticClass:"form-group form-row justify-content-around border-top border-secondary py-3 mb-0"},[s("app-button",{staticClass:"btn btn-primary",attrs:{disabled:t.classes.length<=0,type:"button"},nativeOn:{click:function(e){return t.select(e)}}},[s("i",{staticClass:"fa fa-check"}),t._v("反选\n    ")]),t._v(" "),s("app-button",{staticClass:"btn btn-warning",attrs:{disabled:t.selected.length<=0,type:"button",warn:"您确定要删除所选小组吗？"},nativeOn:{click:function(e){return t.remove(e)}}},[s("i",{staticClass:"fa fa-trash"}),t._v("删除\n    ")]),t._v(" "),s("app-button",{staticClass:"btn btn-secondary",attrs:{disabled:1!=t.selected.length,type:"button"},nativeOn:{click:function(e){return t.edit(e)}}},[s("i",{staticClass:"fa fa-pencil"}),t._v("修改\n    ")]),t._v(" "),s("app-button",{staticClass:"btn btn-primary",attrs:{type:"button"},nativeOn:{click:function(e){return t.add(e)}}},[s("i",{staticClass:"fa fa-plus"}),t._v("新建\n    ")])],1)])};a._withStripped=!0;var c={data:()=>({heads:[{key:"class",des:"班级"},{key:"specialty",des:"专业"},{key:"teacher",des:"指导教师"},{key:"mode",des:"实习方式"},{key:"place",des:"实习地点"},{key:"employer",des:"实习单位"},{key:"startTime",des:"起始时间"},{key:"endTime",des:"结束时间"}],classes:[],selected:[]}),methods:{async remove(){let t=await this.$axiosPost("/scsx/class-remove",{cid:this.selected});t.status&&(this.classes=this.classes.filter(t=>this.selected.indexOf(t.id)<0),this.selected=[]),this.$alertResult(t)},add(){this.$router.push({path:"/scsx/xzxz"})},edit(){this.$router.push({path:"/scsx/xgxz",query:{cid:this.selected[0]}})},select(){let t=[];for(const e of this.classes)this.selected.indexOf(e.id)<0&&t.push(e.id);this.selected=t}},async created(){let t=await this.$axiosGet("/scsx/class-manage");t.status&&(this.classes=t.classes)}},i=s(0),l=Object(i.a)(c,a,[],!1,null,null,null);l.options.__file="modules/scsx/components/class-manage.vue";e.default=l.exports}}]);