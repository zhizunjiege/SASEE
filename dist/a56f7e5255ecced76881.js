(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{38:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return"teacher"==t.identity||t.notices.length?i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row p-3"},[i("nav",{staticClass:"col-12 col-md-3 list-group nav nav-pills flex-column"},["teacher"==t.identity?i("a",{staticClass:"list-group-item list-group-item-action nav-link",class:{active:!t.notices.length},attrs:{"data-toggle":"pill",href:"#submit_notice"}},[t._v("发布新通知")]):t._e(),t._v(" "),t._l(t.notices,(function(e,s){return i("a",{key:s,staticClass:"list-group-item list-group-item-action nav-link",class:{active:!s},attrs:{href:"#notice-"+s,"data-toggle":"pill"}},[i("span",{staticClass:"d-inline-block w-50 ellipsis"},[t._v(t._s(e.title))]),t._v(" "),i("span",{staticClass:"float-right"},[t._v(t._s(e.date))])])}))],2),t._v(" "),i("div",{staticClass:"col-12 col-md-9 tab-content border rounded p-3"},[t._l(t.notices,(function(e,s){return i("div",{key:s,staticClass:"tab-pane fade",class:{"show active":!s},attrs:{id:"notice-"+s},domProps:{innerHTML:t._s(e.content)}})})),t._v(" "),i("div",{staticClass:"tab-pane fade",class:{"show active":!t.notices.length},attrs:{id:"submit_notice"}},[i("wang-editor",{attrs:{eid:"teacher_notice_editor",height:400},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),t._v(" "),i("form",{staticClass:"text-center",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[i("input-text",{attrs:{label:"标题",placeholder:"不超过255个字符（或汉字）",maxlength:"255",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),i("div",{staticClass:"form-group form-row justify-content-end"},[i("app-button",{staticClass:"btn btn-primary col-12 col-md-4 mb-3 mb-md-0",attrs:{type:"submit",warn:"您确定发布该通知吗？"}},[i("i",{staticClass:"fa fa-paper-plane"}),t._v("发布\n            ")])],1)],1)],1)],2)])]):i("div",{staticClass:"d-flex justify-content-center align-items-center",staticStyle:{height:"250px"}},[i("h1",{staticClass:"text-muted"},[t._v("暂无通知")])])};s._withStripped=!0;var a={props:{pid:[Number,String],identity:String},data:()=>({notices:[],title:"",content:""}),methods:{async submit(){this.content.length>20?this.$alertResult(await this.$axiosPost("/bysj/notice",{content:this.content,title:this.title,pid:this.pid})):this.$alertWarn("请输入通知内容！")}},async created(){let t=await this.$axiosGet("/bysj/project-notice",{pid:this.pid});t.status?this.notices=t.notices:this.$alertError(t.msg)}},n=i(0),l=Object(n.a)(a,s,[],!1,null,null,null);l.options.__file="modules/bysj/components/project-notice.vue";e.default=l.exports}}]);